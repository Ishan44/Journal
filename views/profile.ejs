<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link rel="stylesheet" href="/styles.css"> <!-- forward slash tells it to look in the public folder-->
    <title>Document</title>
</head>

<body>

    <nav>
        <h4>Journal</h1>
            <ul>
                <li><a href="/">Home</a></li>
                <li><a href="/profile">Profile</a></li>
                <li><a href="/auth/logout">Logout</a></li>
            </ul>
    </nav>


    <div class="container mt-4">
        <div class="row">
            <div class="col-4">
                <div class="card">
                    <div class="avatar-ctn">
                        <img src="/avatar.png" class="avatar" alt="user prof pict"> <!-- suru ma create gareko thiyo, anything that strats with forward slash goes to public folder-->
                    </div>
                    <div class="card-body">
                        <h5 class="card-title"><%=user.name%></h5>
                        <p class="card-text">lorem ipsum doner blach bal</p>
                        <a href="#" class="btn btn-primary"><%=user.email%></a>
                    </div>
                </div>

            </div>
            <div class="col-8">
                <div class="card text-center">
                    <div class="card-header">
                        Profile Page
                    </div>
                    <div class="card-body">
                        <h5 class="card-title">Hey <%=user.name%> Welcome Back</h5>         
                        <p class="card-text">This is your profile page wehre you can add info about yourself</p>
                        <a href="" class="btn btn-primary">Go Somewhere</a>
                    </div>
                    <div class="card-footer text-muted">
                        Project 6th sem 
                    </div>
                </div>
            </div>
        </div>
    </div>



    <div class="journal">

        <div class="container mt-4">
            <div class="card">
                <div class="card-header">
                    Journal for Insert date here
                </div>

                <div class="card-body">
                    <form action="/auth/profile" method="post">
                        <div class="journalCont">
                            <div class="form-group">
                                <label for="name">Title:</label> <!-- for email= id from tyo tala ko line-->
                                <input type="text" class="form-control" id="name" name="journalTitle" style="width:50%; margin:auto; display: block;"> <!-- The id is used to connect the above name with the blank space, that name is used to give the value that we ll be using to grab with the node js-->
                              </div>
          
                              <div class="form-group">
                                  <div class="commentContainer">
                                      
                                      <div class="form-group">
                                          <label for="name">Journal Entry:</label>
                                          <textarea class="form-control" rows="3" placeholder="Enter your journal here..." name="journalContent" style="width:125%; display: block; margin:auto;"></textarea>
                                      </div>
                                                      
                                  </div>
                              </div>
                              <button type="submit" class="postJBtn btn btn-primary">Post Journal</button>
                        </div>
                        
                      </form>
                </div>
              </div> 
              <% if (typeof message != "undefined" && message){ %>
                  <h1 class="alert alert-danger mt-4"><%= message %></h1>
              <% } %>
              
        </div>
        
        <% if (typeof dbData != "undefined" && dbData){ %>
            <% for(let i=(dbData.length-1); i > 0; i--){ %>
            <article>
    
                <% if (typeof dbData[i].title != "undefined" && dbData[i].title){ %>
                    <h1><%= dbData[i].title %></h1>
                <% } %>
                <% if (typeof dbData[i].content != "undefined" && dbData[i].content){ %>
                    <p><%= dbData[i].content %></p>
                <% } %>

            </article>
            <% } %>
        <% } %>
        




    </div>

    <footer>
        <script>
            if ( window.history.replaceState ) {
              window.history.replaceState( null, null, window.location.href );
            }
            </script>
    </footer>
</body>

</html>